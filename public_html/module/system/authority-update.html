<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>修改权限</title>

    <link rel="stylesheet"
          href="../../shared/bootstrap/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../shared/css/index-ess.css"
          type="text/css" />
    <link rel="stylesheet" href="../../shared/css/font-awesome.min.css"
          type="text/css" />
    <link rel="stylesheet" href="../../shared/css/document.css"
          type="text/css" />
    <link rel="stylesheet" href="../../shared/css/dj-bootstrap.css"
          type="text/css" />
    <link rel="stylesheet" href="../../shared/css/dj-tab.css"
          type="text/css" />
    <link rel="stylesheet" href="../../shared/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../shared/bootstrap/css/bootstrap.css"
          type="text/css" />
    <!-- jqgrid样式 -->
    <link href="../../shared/jqgrid/css/ui.jqgrid.css" type="text/css"
          rel="stylesheet" />
    <link
            href="../../shared/jqgrid/css/css/flick/jquery-ui-1.8.16.custom.css"
            type="text/css" rel="stylesheet" />


    <!--javascript引用部分 -->
    <script src="../../shared/js/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="../../shared/js/jquery.extend.js" type="text/javascript"></script>
    <script src="../../shared/js/myLayer.js" type="text/javascript"></script>
    <script src="../../shared/ztree/js/jquery.ztree.core.min.js"
            type="text/javascript"></script>

    <!-- jqgridjs -->
    <script src="../../shared/jqgrid/js/jquery.jqGrid.min.js"
            type="text/javascript"></script>
    <script src="../../shared/jqgrid/js/jquery.jqGrid.extend.js"
            type="text/javascript"></script>
    <script type="text/javascript"
            src="../../shared/jqgrid/js/i18n/grid.locale-cn.js"></script>

    <script src="../../shared/bootstrap/js/bootstrap.min.js"
            type="text/javascript"></script>
    <script src="../../shared/layer/layer.js" type="text/javascript"></script>

    <!-- my97 DatePicker  -->
    <script src="../../shared/my97/WdatePicker.js" type="text/javascript"></script>
    <script src="../../shared/plugins/utils.js" type="text/javascript"></script>

    <script src="../../shared/js/jquery.validate.min.js"type="text/javascript"></script>
    <script src="../../shared/js/jquery.additional-methods.js"type="text/javascript"></script>

    <style type="text/css">
        tr {
            height: 50px;
        }
        .error {
            color: red;
        }
        span{
            color:red;
            font-size:13px;
        }
    </style>
</head>
<body>
<div class="pagecontent" id="divcontent">
    <form id="addForm">
        <input type="hidden" value="" id="id" name="id">
        <table id="table" class="table_insert">
            <tbody>
            <tr>
                <td class="tdtitle must" align="right" requird="true" style="font-weight: bold">名称：</td>
                <td>
                    <div class="input-append">
                        <input type="text" class="span2"  id="name" name="name"
                               style="width: 230px;">
                    </div>
                </td>
            </tr>
            <tr>
                <td align="right" class="tdtitle must" style="font-weight: bold">类型:</td>
                <td>
                    <div class="input-append">
                        <input type="text" class="span2" id="action" name="action"
                               style="width: 230px;">
                    </div>
                </td>
            </tr>
            <tr>
                <td align="right" class="tdtitle must" style="font-weight: bold">控制器:</td>
                <td>
                    <div class="input-append">
                        <input type="text" class="span2"  id="controller" name="controller"
                               style="width: 230px;">
                    </div>
                </td>
            </tr>
            <tr>
                <td align="right" class="tdtitle must" style="font-weight: bold">所属模块:</td>
                <td>
                    <div class="input-append">
                        <select id="module">
                         	<option value="">请选择...</option>
                            <option value="dashboard">首页</option>
                            <option value="organization">组织机构</option>
                            <option value="moulage">印模中心</option>
                            <option value="seal">印章中心</option>
                            <option value="template">模板中心</option>
                            <option value="certificate">证书中心</option>
                            <option value="print">打印中心</option>
                            <option value="device">设备管理</option>
                            <option value="adhibition">应用系统管理</option>
                            <option value="log">日志管理</option>
                            <option value="system">系统管理</option>
                            <option value="other">其他</option>
                        </select>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>
<script type="text/javascript">
    var id;
    $(document).ready(function() {
        var urlPath=getUrlPath();
        id = GetQueryString('id');
        if(id!=""&&id!=undefined){
        	 formInit();
        }
    });
	function formInit(){
        var name=GetQueryString('name');
        var controller=GetQueryString('controller');
        var action=GetQueryString('action');
        var module=GetQueryString('module');
        $("#name").val(name);
        $("#controller").val(controller);
        $("#action").val(action);
        $("#module").val(module);
	}
    function getData(){
        var formData = getFormData("addForm");
		var resData=[];
		   var data={};
		   if(id!=""&&id!=undefined){
			   data['id']=id;
		   }else{
			   data['id']=null;
		   }
		   
		   if(formData.name==""){
			   alert("请输入名称！");
				return;
		   }else{
			   data['name']=formData.name;
		   }
		   
		   if(formData.action==""){
			   alert("请输入类型！");
			   return;
		   }else{
			   data['action']=formData.action;
		   }
		   if(formData.controller==""){
			   alert("控制器不能为空");
			   return;
		   }else{
			   data['controller']=formData.controller;
		   }
		   if(formData.module==""){
			   alert("请选择所属模块");
			   return;
		   }else{
			   data['module']=formData.module;
		   }
		   resData.push(data);
		   var res=JSON.stringify(resData);
		   return res;
    }

    function GetQueryString(name) {
        var reg =new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if (r !=null)
            return decodeURI(r[2]);
        return null;
    }
</script>
</body>
</html>