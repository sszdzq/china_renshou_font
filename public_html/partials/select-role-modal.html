<!doctype html>
<html>
<head>
<title>角色选择</title>
<meta charset="utf-8">


<link rel="stylesheet" href="css/list-style.css">

<script src="js/jquery.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/list-script.js"></script>
<script src="../../shared/plugins/utils.js" type="text/javascript"></script>
<!-- <script>
	$(function(){
		$('#selectTitle').initList();
	})
</script> -->

</head>
<body>
<h2 style="text-align:center;">角色选择</h2>
<div id="selectTitle" class="list-select">
	<div class="list-title">
		<h4>指定角色</h4>
	</div>
	<div class="list-body">
		<div id="selectDiv" class="item-box left-box">
			<!-- 左边框初始化待选项 -->
		<span id="cs" class="item" data-id=" " ></span>
		
		</div>
		<div class="center-box">
			<button class="add-one" title="添加选中项">></button>
			<button class="add-all" title="添加全部">>></button>
			<button class="remove-one" title="移除选中项"><</button>
			<button class="remove-all" title="移除全部"><<</button>
		</div>
		<div class="item-box right-box">
			<!-- 右边框存放已选项 -->
		</div>
	</div>
	<div class="list-footer">
		<button class="selected-val" title="获取选择值，输出到控制台">保存</button>
		<button    title="取消选择" onclick="closePage()">取消</button>
		</div>
</div>

</body>
<script type="text/javascript">
var apiUrl = getUrlPath();
	//页面加载函数
	$(function(){
		
		$.ajax({
			type : "GET",
			data :{},
			url : apiUrl+"/role",
			dataType : "json",
			async:false,
			success : function(data) {
				for(var i=0;i<data.length;i++){
					////console.log(data[i]);
					var content="<span id='' class='item' data-id='"+data[i].id+"'>"+data[i].name+"</span>";
					$("#selectDiv").append(content);
				}
				$('#selectTitle').initList();
				//$('#selectDiv').initItemEvent();
				////console.log($("#selectDiv span").text());
			} 
		});
		
		//1111111111
		//$('#selectDiv').initList().initItemEvent();
		//1111111111111
				
	})
	
	function closePage(){
		if(confirm("您确定要关闭本页吗？")){
	/* 	window.opener=null;
		window.open('','_self'); */
		window.close();
		}
	}
</script>
</html>
